<ion-header>
  <app-header [title]="'Envíos'"></app-header>
  <app-side-menu></app-side-menu>
</ion-header>

<ion-content padding>

        <div class="container form-box">
          <div class="row">
            <div class="col text-center title-content-3">
              <h3>Envíos</h3>
            </div>
          </div>

          <div class="row  align-items-center mb-2">
            <div class="col-auto">
              <button type="" class="btn btn-primary" (click)="create()">Nuevo Envío</button>
              <button type="" class="btn btn-primary" (click)="showFilters()">Filtros</button>
              <button type="" class="btn btn-primary" (click)="showResaltado()">Resaltado</button>
            </div>

            <div class="col"></div>
          </div>

          <div class="row">
            <div class="col" *ngIf="!filtersCollapsed">

                <div class="row pl-3">
                  <div class="col-12 col-sm-6 col-md-4 col-lg-3 " *ngFor="let field of filterFieldOptions;  let i = index">
                    <input class="form-check-input" type="checkbox"
                            [(ngModel)]="filterFieldOptions[ i ].enabled" [ngModelOptions]="{standalone: true}"
                            (click)="filterOptionClick( i )">
                    <label class="form-check-label" for="inlineCheckbox1" >{{ field.text }}</label>
                  </div>
                </div>

                <div class="row mt-3">
                  <div class="col">
                    <button type="submit" class="btn btn-primary mb-2" (click)="applyFilter()">Aplicar</button>
                  </div>
                </div>
              </div>

              <div class="col" *ngIf="!resaltadoCollapsed">
                <div class="row pl-3">
                  <div class="col">
                    <input class="form-check-input" type="checkbox"
                            [(ngModel)]="resaltado[ 0 ].enabled" [ngModelOptions]="{standalone: true}"
                            (click)="resaltadoOptionClick( 0 )">
                    <label class="form-check-label" for="inlineCheckbox1" >Estado de envío</label>
                  </div>
                </div>
              </div>

          </div>

          <div class="row">
            <div class="col">
              <div class="table-responsive">

                <table class="table">
                  <thead class="thead-light">
                    <tr>
                      <th scope="col" class="text-center align-middle">#</th>
                      <th *ngFor="let field of EnabledFilterFieldOptions;" scope="col" class="text-center align-middle">{{ filterFieldOptions[ field ].text }}</th>
                      <th scope="col" class="text-center align-middle">Acciones</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let cf of shippings; let i = index" [style.background-color]="getBackgrounColor( cf.status_id )">
                      <th scope="row" class="text-center align-middle">{{cf.id}}</th>
                      <td *ngFor="let field of EnabledFilterFieldOptions;" scope="col" class="text-center align-middle">{{ cf[ filterFieldOptions[ field ].code ] }}</td>

                      <td class="text-center align-middle">
                        <button type="button" class="btn btn-info" (click)="edit( cf.id )">    <ion-icon name="pencil-outline"></ion-icon> </button>
                      </td>
                    </tr>
                  </tbody>
                </table>

              </div>
            </div>
          </div>

          <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
              <li class="page-item" [ngClass]="{disabled: actualPage == 1 }">
                <a class="page-link" (click)="loadPage( actualPage-1 )" tabindex="-1">Anterior</a>
              </li>
              <li class="page-item" *ngFor="let cf of pageLinks;" [ngClass]="{disabled: actualPage == cf.page }">
                <a class="page-link" (click)="loadPage( cf.page )">{{ cf.page }}</a>
              </li>
              <li class="page-item" [ngClass]="{disabled: (actualPage + 1) > pageCount }">
                <a class="page-link" (click)="loadPage( actualPage+1 )" >Siguiente</a>
              </li>
            </ul>
          </nav>

        </div>

</ion-content>
