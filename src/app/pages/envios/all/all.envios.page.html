<ion-header>
  <app-header [title]="'Envíos'"></app-header>
</ion-header>

<ion-content padding>

  <div class="d-flex" id="wrapper">
      <!-- Sidebar -->
      <app-side-menu></app-side-menu>
      <!-- /#sidebar-wrapper -->

      <!-- Page Content -->
      <div id="page-content-wrapper">

        <div class="container form-box">
          <div class="row">
            <div class="col text-center title-content-3">
              <h3>Envíos</h3>
            </div>
          </div>

          <div class="row  align-items-center mb-2">
            <div class="col-auto">
              <button type="" class="btn btn-primary" (click)="create()">Nuevo Envío</button>
              <button type="" class="btn btn-primary" (click)="showFilters()">Filtros</button>
            </div>

            <div class="col"></div>
          </div>

          <div class="row">
            <div class="col" *ngIf="!filtersCollapsed">

                <form class="form-inline">
                  <div class="form-check form-check-inline" *ngFor="let field of filterFieldOptions;  let i = index">
                    <input class="form-check-input" type="checkbox"
                            [(ngModel)]="filterFieldOptions[ i ].enabled" [ngModelOptions]="{standalone: true}"
                            (click)="filterOptionClick( i )">
                    <label class="form-check-label" for="inlineCheckbox1" >{{ field.text }}</label>
                  </div>
                  <button type="submit" class="btn btn-primary mb-2" (click)="applyFilter()">Aplicar</button>
                </form>
              </div>

          </div>

          <div class="row">
            <div class="col">
              <div class="table-responsive">

                <table class="table">
                  <thead class="thead-light">
                    <tr>
                      <th scope="col" class="text-center">#</th>
                      <th *ngFor="let field of EnabledFilterFieldOptions;" scope="col" class="text-center">{{ filterFieldOptions[ field ].text }}</th>
                      <th scope="col" class="text-center">Acciones</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let cf of shippings; let i = index">
                      <th scope="row" class="text-center">{{cf.id}}</th>
                      <td *ngFor="let field of EnabledFilterFieldOptions;" scope="col" class="text-center">{{ cf[ filterFieldOptions[ field ].code ] }}</td>

                      <td class="text-center">
                        <button type="button" class="btn btn-info">    <ion-icon name="pencil-outline" (click)="edit( cf.id )"></ion-icon> </button>
                        <button type="button" class="btn btn-warning"> <ion-icon name="trash-outline"  ></ion-icon> </button>
                      </td>
                    </tr>
                  </tbody>
                </table>

              </div>
            </div>
          </div>

          <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
              <li class="page-item" [ngClass]="{disabled: actualPage == 1 }">
                <a class="page-link" (click)="loadPage( actualPage-1 )" tabindex="-1">Anterior</a>
              </li>
              <li class="page-item" *ngFor="let cf of pageLinks;" [ngClass]="{disabled: actualPage == cf.page }">
                <a class="page-link" (click)="loadPage( cf.page )">{{ cf.page }}</a>
              </li>
              <li class="page-item" [ngClass]="{disabled: (actualPage + 1) > pageCount }">
                <a class="page-link" (click)="loadPage( actualPage+1 )" >Siguiente</a>
              </li>
            </ul>
          </nav>

        </div>

      </div>
      <!-- /#page-content-wrapper -->
    </div>
    <!-- /#wrapper -->

</ion-content>
